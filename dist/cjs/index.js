"use strict";var e=require("react/jsx-runtime"),t=require("react");function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,r(n)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var r="";for(var a in e)t.call(e,a)&&e[a]&&(r=o(r,a));return r}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(r);var o=n(r.exports);const a=t.createContext(null);function s(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}s(":where(.rac__input) {\n  background-color: #f6f7fc;\n  border: none;\n  border-bottom: 1px solid rgb(112, 112, 112);\n  padding-bottom: 1px;\n  text-align: center;\n  width: 48px;\n  height: 61px;\n  font-size: 16px;\n  line-height: 24px;\n\n  &[aria-selected=true] {\n    color: rgb(0, 126, 171);\n    border-bottom: 2px solid rgb(0, 126, 171);\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &:disabled {\n    color: rgb(51, 51, 51);\n  }\n}\n");const c=({selected:n,canFocus:r,value:s,onBackspace:c,onChange:i,onPaste:u,onFocus:l})=>{const{password:d,inputClassName:p}=(()=>{const e=t.useContext(a);if(!e)throw new Error("useAuthCodeContext must be used within a AuthCodeContext Provider.");return e})(),f=t.useRef(null);t.useEffect((()=>{n&&r&&f.current?.focus()}),[n,r]);return e.jsx("input",{ref:f,value:s,disabled:!n,maxLength:1,type:d?"password":"text",className:o("rac__input",p),"aria-selected":n,onChange:e=>{i(e.target.value)},onKeyDown:e=>{"Backspace"!==e.key||s||c()},onPaste:e=>{e.preventDefault();const t=e.clipboardData.getData("text");u(t)},onFocus:()=>{l()}})},i=(e,t,n)=>{if(!t)return!0;return(t instanceof RegExp?t:new RegExp(`${t}{0,${n}}$`)).test(e)};s(":where(.rac_container) {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}");module.exports=({value:n="",length:r=4,password:s=!1,disabled:u=!1,allowPaste:l=!0,pattern:d="",autoFocus:p=!1,inputClassName:f,containerClassName:g,onChange:h,onComplete:x})=>{const[m,v]=t.useState(n),[y,b]=t.useState(!1);t.useEffect((()=>{i(n,d,r)&&v(n)}),[n,r,d]),t.useEffect((()=>{m.length===r&&x?.(m)}),[m,r,x]);const C=e=>{i(e,d,r)&&(v(e),h?.(e))},w=()=>{if(E>0){const e=[...m];e[E-1]="",C(e.join(""))}},j=e=>{const t=[...m];t[E]=e,C(t.join(""))},N=e=>{if(l){const t=e.slice(0,r-E);i(t,d,r-E)&&C(m+t)}},S=()=>{b(!0)},E=t.useMemo((()=>{for(let e=0;e<r;e++)if(""===m[e]||void 0===m[e])return e;return r-1}),[m,r]);return e.jsx(a.Provider,{value:{password:s,inputClassName:f},children:e.jsx("div",{className:o("rac_container",g),children:Array.from({length:r},((t,n)=>e.jsx(c,{selected:!u&&E===n,canFocus:p||y,value:m[n]||"",onBackspace:w,onChange:j,onPaste:N,onFocus:S},n)))})})};
//# sourceMappingURL=index.js.map
